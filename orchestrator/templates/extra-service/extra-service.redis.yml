# Redis extra service (BullMQ, cache, etc.). Merged into compose when extra_services: [redis].
# App receives REDIS_URL=redis://redis:6379 and depends_on: redis.
image: redis:7-alpine
container_name: {{projectSlug}}-pr-{{prNumber}}-redis
restart: unless-stopped
healthcheck:
  test: ["CMD-SHELL", "redis-cli ping"]
  interval: 10s
  timeout: 5s
  retries: 5
deploy:
  resources:
    limits:
      cpus: '0.25'
      memory: 128M
    reservations:
      cpus: '0.1'
      memory: 64M
